<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cryptography</title>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>


    <style>
      body {
        background-color: lightyellow;
      }
    </style>
  </head>
  <body>

    <div class="row" >
        <div class="col-sm-12">
          <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top justify-content-center">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="navbar-brand" href="#">Logo</a>
                </li>
                <li class="nav-item">
                    <a class="navbar-brand" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="navbar-brand" href="#">About</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="navbar-brand dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Info</a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Support</a></li>
                      <li><a class="dropdown-item" href="#">Contact Us</a></li>
                    </ul>
                  </li>
            </ul>
          </nav>
        </div>
    </div>
    <div class="container mt-5">
        <div class="row" style="margin-top: 50px;">
          <div class="col-sm-4">
            <h2>Summary</h2>
            <p>Some text about the encryption method</p>
            <h3 class="mt-4">Some Links</h3>
            <p>Links to share</p>
            <hr class="d-sm-none">
          </div>
          <div class="col-sm-8">
            <h2>Encryption Cipher</h2>
            <div class="row" id="inout">
                <textarea id="InputT" class="form-control" rows="7" placeholder="Input Text"></textarea>
                <textarea id="OutputT" class="form-control" rows="7" placeholder="Output Text"></textarea>
                <div class="row" id="Encryption">
                    <h2>Encryption</h2>
                    <label for="encrypt">Encryption Passphrase</label>
                    <input type="text" class="form-control" id="encrypt">
          
                    <div class="btn-group">
                      <button type="button" class="btn btn-warning" onclick="Encrypt1()">Cipher 1</button>
                      <button type="button" class="btn btn-warning" onclick="Encrypt2()">Cipher 2</button>
                      <button type="button" class="btn btn-warning" onclick="Encrypt3()">Cipher 3</button>
                    </div>
                    
                  </div>
          
                  <div class="row" id="Decryption">
                    <h2>Decryption</h2>
                    <label for="decrypt">Decryption Passphrase</label>
                    <input type="text" class="form-control" id="decrypt">
          
                    <div class="btn-group">
                      <button type="button" class="btn btn-warning" onclick="Decrypt1()">Cipher 1</button>
                      <button type="button" class="btn btn-warning" onclick="Decrypt2()">Cipher 2</button>
                      <button type="button" class="btn btn-warning" onclick="Decrypt3()">Cipher 3</button>
                    </div>
                  </div>
          
                  <!-- onkeyup="function(), -->
                  <script src='./encryption.js'></script>
                  <script src='./decryption.js'></script>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
// cipher 1
let l1 = ['a','b','c','d','e']
let l2 = ['f','g','h','i','j']
let l3 = ['k','l','m','n','o']
let l4 = ['p','q','r','s','t']
let l5 = ['u','v','w','x','y']
let l6 = ['z',' ',',','?','\'']
let arrayList = [l1,l2,l3,l4,l5,l6]
// used for encoding
let letterArray = []
let output = ""

// used for decoding
let numberArray = []
let input = ""

// ---------------

function Encrypt1() {

    let input = document.getElementById("InputT").value // input 'hey' : array = ['h','e','y']
    letterArray = input.split('') // split by each character

    letterArray.forEach(character => {

        arrayList.forEach((listNumbered, i) => {
          console.log(letterArray, character, listNumbered, listNumbered.indexOf(character))
          if(listNumbered.indexOf(character) != -1) { // if character is found (-1 is not found)
            output += i+1 // should return list number
            output += listNumbered.indexOf(character)+1 // should return character index in list
          } else {return}
        });
    })
    document.getElementById("OutputT").value = output //returns output
    output = ""
}

function Decrypt1() {

let output = document.getElementById("OutputT").value // '111211' : array = ['11','12','11']
numberArray = output.match(/.{1,2}/g) || []; // match returns a split every N characters

numberArray.forEach(pair => {
    let pairArray = pair.split('') //splits the pair into 2 numbers, list - index
    let listSelect = arrayList[pairArray[0]-1]
    let letter = listSelect[pairArray[1]-1]
    console.log(pair, listSelect, letter)
    input += letter
})
document.getElementById("InputT").value = input //returns input
input = ""
}
</script>
